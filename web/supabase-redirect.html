<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Redirecting…</title>
    <style>body{font-family:system-ui,Arial,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;background:#fff;color:#111}</style>
    <script>
      (function () {
        // Read the fragment (preferred) or query string and forward it to the app
        const fragment = window.location.hash || (window.location.search ? '#' + window.location.search.slice(1) : '');
        const targetScheme = 'sovrnmobile://auth';
        const target = targetScheme + fragment;

        // Try to navigate to the app (this will succeed on mobile devices that support custom schemes)
        window.location.replace(target);

        // If not redirected within ~500ms, show a manual link as a fallback
        setTimeout(function () {
          document.body.innerHTML = `
            <div style="max-width:380px;margin:auto;text-align:center">
              <h2>Open the Sovrn app</h2>
              <p>If you are not redirected automatically, <a href="${target}">tap here to open the app</a>.</p>
              <p style="font-size:12px;color:#666">If this doesn't work, copy this URL into your phone's browser: <br/><code>${target}</code></p>
            </div>
          `;
        }, 500);
      })();
    </script>
  </head>
  <body>
    <p>Redirecting…</p>
  </body>
</html>
